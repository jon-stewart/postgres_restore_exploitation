#include <string.h>
#include "postgres.h"
#include "fmgr.h"
#include "commands/trigger.h"

#ifdef PG_MODULE_MAGIC
PG_MODULE_MAGIC;
#endif

extern Datum pgtrigger(PG_FUNCTION_ARGS);

PG_FUNCTION_INFO_V1(pgtrigger);

Datum
pgtrigger(PG_FUNCTION_ARGS) {
    TriggerData *trigger_data = (TriggerData *) fcinfo->context;

    system("touch /tmp/trigger_code_execution");

    return PointerGetDatum(trigger_data->tg_trigtuple);
}
